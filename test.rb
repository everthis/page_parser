require 'open-uri'
require 'net/https'

def captcha(index)
    file_name = "#{index}-image.gif"
    open("images/" + file_name, 'wb') do |file|
      file << open('https://passport.baidu.com/cgi-bin/genimage?tcIcaptchaservice343339665864475455443143703869433165365534327433535957516c4b59665574552b634b2f496e2f6a634569444438656d78335359304776625a65394d3955633170534c3333394b6450676d4d662b78596861484154355a3747786c73597248486b74616a3970342f504746445736484348526a523339567950564d6c752f7058536c71573049664e42514d31754d34544556465469303536513872766a7061664744434a7475786c6d4f3374546b6d6476464e526d426b4d312f4d726c5a774d66787a31337a7134586461645a314e464d5a524d426d634f38786977586d694961707a61445a6b433357647534442b5445437168734c6e507a6a33536f7779445649526b792f4b4f4a7531426130736b4d79786937614c61325a6c79576d314e30697757515851&v=1442300755385').read
    end
end

1.upto(10) { |i| captcha i }

